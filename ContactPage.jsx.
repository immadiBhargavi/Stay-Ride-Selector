import React, { useState } from "react";

export default function ContactPage() {
  const [modalOpen, setModalOpen] = useState(false);
  const [activeForm, setActiveForm] = useState("call");

  // Form states
  const [callName, setCallName] = useState("");
  const [callPhone, setCallPhone] = useState("");
  const [callTime, setCallTime] = useState("");
  const [callMsg, setCallMsg] = useState("");

  const [msgName, setMsgName] = useState("");
  const [msgEmail, setMsgEmail] = useState("");
  const [msgText, setMsgText] = useState("");
  const [msgStatus, setMsgStatus] = useState("");

  // Functions
  const submitCall = () => {
    if (callName && callPhone && callTime) {
      setCallMsg(`‚úÖ Call booked successfully at ${callTime}`);
    } else {
      setCallMsg("‚ùå Please fill all fields");
    }
  };

  const submitMessage = () => {
    if (msgName && msgEmail && msgText) {
      setMsgStatus("‚úÖ Message sent successfully!");
    } else {
      setMsgStatus("‚ùå Please fill all fields!");
    }
  };

  return (
    <div style={{ fontFamily: "Arial, sans-serif", paddingTop: "60px" }}>
      {/* Navbar */}
      <nav
        style={{
          position: "fixed",
          top: 0,
          left: 0,
          width: "100%",
          display: "flex",
          gap: "12px",
          background: "rgba(0,0,0,0.8)",
          padding: "12px 20px",
          zIndex: 1000,
        }}
      >
        <a href="#" style={navLink}>Home</a>
        <a href="#" style={navLink}>Rooms</a>
        <a href="#" style={navLink}>Vehicles</a>
        <a href="#" style={navLink} onClick={() => setModalOpen(true)}>
          Contact
        </a>
      </nav>

      {/* Contact Modal */}
      {modalOpen && (
        <div style={modalStyle}>
          <div style={modalContentStyle}>
            {/* Toggle Buttons */}
            <div style={formToggle}>
              <button
                style={{
                  ...toggleBtn,
                  ...(activeForm === "call" ? activeBtn : {}),
                }}
                onClick={() => setActiveForm("call")}
              >
                üìû Book a Call
              </button>
              <button
                style={{
                  ...toggleBtn,
                  ...(activeForm === "message" ? activeBtn : {}),
                }}
                onClick={() => setActiveForm("message")}
              >
                üí¨ Leave a Message
              </button>
            </div>

            {/* Book a Call Form */}
            {activeForm === "call" && (
              <div>
                <h2 style={{ textAlign: "center" }}>üìû Book a Call</h2>
                <input
                  type="text"
                  placeholder="Your Name"
                  value={callName}
                  onChange={(e) => setCallName(e.target.value)}
                  style={inputStyle}
                />
                <input
                  type="tel"
                  placeholder="Phone Number"
                  value={callPhone}
                  onChange={(e) => setCallPhone(e.target.value)}
                  style={inputStyle}
                />
                <input
                  type="time"
                  value={callTime}
                  onChange={(e) => setCallTime(e.target.value)}
                  style={inputStyle}
                />
                <button style={submitBtn} onClick={submitCall}>
                  Book Call
                </button>
                <p style={{ textAlign: "center", fontWeight: "bold" }}>
                  {callMsg}
                </p>
              </div>
            )}

            {/* Leave a Message Form */}
            {activeForm === "message" && (
              <div>
                <h2 style={{ textAlign: "center" }}>üí¨ Leave a Message</h2>
                <input
                  type="text"
                  placeholder="Your Name"
                  value={msgName}
                  onChange={(e) => setMsgName(e.target.value)}
                  style={inputStyle}
                />
                <input
                  type="email"
                  placeholder="Your Email"
                  value={msgEmail}
                  onChange={(e) => setMsgEmail(e.target.value)}
                  style={inputStyle}
                />
                <textarea
                  rows="3"
                  placeholder="Your Message"
                  value={msgText}
                  onChange={(e) => setMsgText(e.target.value)}
                  style={{ ...inputStyle, height: "80px" }}
                />
                <button style={submitBtn} onClick={submitMessage}>
                  Send Message
                </button>
                <p style={{ textAlign: "center", fontWeight: "bold" }}>
                  {msgStatus}
                </p>
              </div>
            )}

            {/* Cancel Button */}
            <button
              style={{ ...submitBtn, background: "red", marginTop: "10px" }}
              onClick={() => {
                setModalOpen(false);
                setCallMsg("");
                setMsgStatus("");
              }}
            >
              Cancel
            </button>
          </div>
        </div>
      )}
    </div>
  );
}

// CSS-in-JS styles
const navLink = {
  color: "white",
  textDecoration: "none",
  fontWeight: "600",
  fontSize: "15px",
  padding: "6px 10px",
  borderRadius: "4px",
};

const modalStyle = {
  position: "fixed",
  top: 0,
  left: 0,
  width: "100%",
  height: "100%",
  background: "rgba(0,0,0,0.6)",
  display: "flex",
  alignItems: "center",
  justifyContent: "center",
  zIndex: 2000,
};

const modalContentStyle = {
  background: "white",
  padding: "20px 40px",
  borderRadius: "10px",
  width: "340px",
  boxShadow: "0 5px 20px rgba(0,0,0,0.3)",
};

const formToggle = {
  display: "flex",
  justifyContent: "space-around",
  marginBottom: "15px",
};

const toggleBtn = {
  flex: 1,
  margin: "0 5px",
  padding: "8px",
  border: "none",
  borderRadius: "5px",
  background: "#f0f0f0",
  cursor: "pointer",
  fontWeight: "bold",
};

const activeBtn = {
  background: "#2575fc",
  color: "white",
};

const inputStyle = {
  width: "100%",
  padding: "10px",
  marginTop: "8px",
  borderRadius: "5px",
  border: "1px solid #ccc",
};

const submitBtn = {
  width: "100%",
  padding: "10px",
  marginTop: "10px",
  borderRadius: "5px",
  border: "none",
  background: "#2575fc",
  color: "white",
  cursor: "pointer",
};

